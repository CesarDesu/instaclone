[{"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\reportWebVitals.js":"1","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\index.js":"2","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\App.js":"3","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\config\\apollo.js":"4","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Auth\\Auth.js":"5","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Auth\\RegisterForm\\index.js":"6","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Auth\\LoginForm\\LoginForm.js":"7","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Auth\\RegisterForm\\RegisterForm.js":"8","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Auth\\index.js":"9","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Auth\\LoginForm\\index.js":"10","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\gql\\user.js":"11","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Home\\index.js":"12","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Home\\Home.js":"13","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\routes\\routes.js":"14","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\hooks\\useAuth.js":"15","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\User.js":"16","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Error404\\Error404.js":"17","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\Header.js":"18","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\layouts\\LayoutBasic.js":"19","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\Search\\index.js":"20","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\RightHeader\\index.js":"21","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\index.js":"22","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\RightHeader\\RightHeader.js":"23","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\Search\\Search.js":"24","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\UserNotFound\\UserNotFound.js":"25","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Modal\\ModalBasic\\ModalBasic.js":"26","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\AvatarForm\\AvatarForm.js":"27","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\utils\\token.js":"28","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\context\\AuthContext.js":"29","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\routes\\Navigation.js":"30","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\utils\\constants.js":"31","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Error404\\index.js":"32","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\UserNotFound\\index.js":"33","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\AvatarForm\\index.js":"34","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Modal\\ModalBasic\\index.js":"35","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\Profile\\Profile.js":"36","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\Profile\\HeaderProfile\\HeaderProfile.js":"37","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\SettignsForm\\index.js":"38","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\Profile\\index.js":"39","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\SettignsForm\\SettignsForm.js":"40","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\PasswordForm\\PasswordForm.js":"41","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\PasswordForm\\index.js":"42","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\EmailForm\\EmailForm.js":"43","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\DescriptionForm\\index.js":"44","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\DescriptionForm\\DescriptionForm.js":"45","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\SiteWebForm\\SiteWebForm.js":"46","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\Profile\\Followers\\Followers.js":"47","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\ListUsers\\ListUsers.js":"48"},{"size":362,"mtime":1607639808800,"results":"49","hashOfConfig":"50"},{"size":541,"mtime":1608657171264,"results":"51","hashOfConfig":"50"},{"size":1378,"mtime":1608734829571,"results":"52","hashOfConfig":"50"},{"size":675,"mtime":1610721322595,"results":"53","hashOfConfig":"50"},{"size":1167,"mtime":1608658202093,"results":"54","hashOfConfig":"50"},{"size":43,"mtime":1608651145841,"results":"55","hashOfConfig":"50"},{"size":2106,"mtime":1608676004262,"results":"56","hashOfConfig":"50"},{"size":3507,"mtime":1608657238184,"results":"57","hashOfConfig":"50"},{"size":35,"mtime":1608649943855,"results":"58","hashOfConfig":"50"},{"size":40,"mtime":1608651142298,"results":"59","hashOfConfig":"50"},{"size":1121,"mtime":1608655115378,"results":"60","hashOfConfig":"50"},{"size":35,"mtime":1608675419873,"results":"61","hashOfConfig":"50"},{"size":161,"mtime":1608692145157,"results":"62","hashOfConfig":"50"},{"size":496,"mtime":1608735929644,"results":"63","hashOfConfig":"50"},{"size":137,"mtime":1608674193186,"results":"64","hashOfConfig":"50"},{"size":276,"mtime":1610723262849,"results":"65","hashOfConfig":"50"},{"size":163,"mtime":1608692269782,"results":"66","hashOfConfig":"50"},{"size":819,"mtime":1608737204890,"results":"67","hashOfConfig":"50"},{"size":321,"mtime":1608736892438,"results":"68","hashOfConfig":"50"},{"size":37,"mtime":1608737127614,"results":"69","hashOfConfig":"50"},{"size":42,"mtime":1608737195728,"results":"70","hashOfConfig":"50"},{"size":37,"mtime":1608736774089,"results":"71","hashOfConfig":"50"},{"size":935,"mtime":1610725991972,"results":"72","hashOfConfig":"50"},{"size":1756,"mtime":1595262377000,"results":"73","hashOfConfig":"50"},{"size":428,"mtime":1608741525373,"results":"74","hashOfConfig":"50"},{"size":446,"mtime":1608742560701,"results":"75","hashOfConfig":"50"},{"size":2705,"mtime":1610730762983,"results":"76","hashOfConfig":"50"},{"size":372,"mtime":1608673245039,"results":"77","hashOfConfig":"50"},{"size":135,"mtime":1608674168655,"results":"78","hashOfConfig":"50"},{"size":627,"mtime":1608730660150,"results":"79","hashOfConfig":"50"},{"size":31,"mtime":1608673148019,"results":"80","hashOfConfig":"50"},{"size":39,"mtime":1608692184191,"results":"81","hashOfConfig":"50"},{"size":43,"mtime":1608741536740,"results":"82","hashOfConfig":"50"},{"size":41,"mtime":1608743122514,"results":"83","hashOfConfig":"50"},{"size":41,"mtime":1608741846183,"results":"84","hashOfConfig":"50"},{"size":3205,"mtime":1610823238873,"results":"85","hashOfConfig":"50"},{"size":1643,"mtime":1610819821249,"results":"86","hashOfConfig":"50"},{"size":43,"mtime":1610732173721,"results":"87","hashOfConfig":"50"},{"size":38,"mtime":1608739830989,"results":"88","hashOfConfig":"50"},{"size":2272,"mtime":1610814478774,"results":"89","hashOfConfig":"50"},{"size":2416,"mtime":1595262377000,"results":"90","hashOfConfig":"50"},{"size":42,"mtime":1595262377000,"results":"91","hashOfConfig":"50"},{"size":1325,"mtime":1595262377000,"results":"92","hashOfConfig":"50"},{"size":45,"mtime":1595262377000,"results":"93","hashOfConfig":"50"},{"size":1353,"mtime":1595262377000,"results":"94","hashOfConfig":"50"},{"size":1328,"mtime":1595262377000,"results":"95","hashOfConfig":"50"},{"size":2389,"mtime":1595262377000,"results":"96","hashOfConfig":"50"},{"size":1028,"mtime":1595262377000,"results":"97","hashOfConfig":"50"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},"1yk6zgk",{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"103"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"106"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"126"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"131"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"118"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"143"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"162"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"165","usedDeprecatedRules":"106"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"190","messages":"191","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"192","messages":"193","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"198","messages":"199","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"200","messages":"201","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"204","messages":"205","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\reportWebVitals.js",[],["208","209"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\index.js",[],["210","211"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\App.js",[],["212","213"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\config\\apollo.js",["214"],"import { ApolloClient, createHttpLink, InMemoryCache } from \"@apollo/client\";\r\nimport { createUploadLink } from \"apollo-upload-client\";\r\nimport { setContext } from \"apollo-link-context\";\r\nimport { getToken } from \"../utils/token\";\r\n\r\nconst httpLik = createUploadLink({\r\n  uri: \"http://localhost:4000/\",\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = getToken();\r\n\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      Authorization: token ? `Bearer ${token}` : \"\",\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  connectToDevTools: true,\r\n  cache: new InMemoryCache(),\r\n  link: authLink.concat(httpLik),\r\n});\r\n\r\nexport default client;\r\n","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Auth\\Auth.js",[],["215","216"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Auth\\RegisterForm\\index.js",[],["217","218"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Auth\\LoginForm\\LoginForm.js",[],["219","220"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Auth\\RegisterForm\\RegisterForm.js",["221"],"import React from \"react\";\r\nimport { Form, Button } from \"semantic-ui-react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { REGISTER } from \"../../../gql/user\";\r\nimport \"./RegisterForm.scss\";\r\n\r\nexport default function RegisterForm(props) {\r\n  const { setShowLogin } = props;\r\n  const [register] = useMutation(REGISTER);\r\n\r\n  const formik = useFormik({\r\n    initialValues: initialValues(),\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Tu nombre es obligatorio\"),\r\n      username: Yup.string()\r\n        .matches(\r\n          /^[a-zA-Z0-9-]*$/,\r\n          \"El nombre del usuario no puede tener espacio\"\r\n        )\r\n        .required(\"El nombre de usuario es obligatorio\"),\r\n      email: Yup.string()\r\n        .email(\"El email no es valido\")\r\n        .required(\"El email es obligatorio\"),\r\n      password: Yup.string()\r\n        .required(\"La contraseña es obligatoria\")\r\n        .oneOf([Yup.ref(\"repeatPassword\")], \"Las contraseñas no son iguales\"),\r\n      repeatPassword: Yup.string()\r\n        .required(\"La contraseña es obligatoria\")\r\n        .oneOf([Yup.ref(\"password\")], \"Las contraseñas no son iguales\"),\r\n    }),\r\n    onSubmit: async (formData) => {\r\n      try {\r\n        const newUser = formData;\r\n        delete newUser.repeatPassword;\r\n\r\n        const result = await register({\r\n          variables: {\r\n            input: newUser,\r\n          },\r\n        });\r\n        toast.success(\"Usuario registrado correctamente\");\r\n        setShowLogin(true);\r\n      } catch (error) {\r\n        toast.error(error.message);\r\n        console.log(error);\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"register-form-title\">\r\n        Regístrate para ver fotos y vídeos de tus amigos.\r\n      </h2>\r\n      <Form className=\"register-form\" onSubmit={formik.handleSubmit}>\r\n        <Form.Input\r\n          type=\"text\"\r\n          placeholder=\"Nombre y apellidos\"\r\n          name=\"name\"\r\n          value={formik.values.name}\r\n          onChange={formik.handleChange}\r\n          error={formik.errors.name && true}\r\n        />\r\n        <Form.Input\r\n          type=\"text\"\r\n          placeholder=\"Nombre de usuario\"\r\n          name=\"username\"\r\n          value={formik.values.username}\r\n          onChange={formik.handleChange}\r\n          error={formik.errors.username && true}\r\n        />\r\n        <Form.Input\r\n          type=\"text\"\r\n          placeholder=\"Correo electronico\"\r\n          value={formik.values.email}\r\n          name=\"email\"\r\n          onChange={formik.handleChange}\r\n          error={formik.errors.email && true}\r\n        />\r\n        <Form.Input\r\n          type=\"password\"\r\n          placeholder=\"Contraseña\"\r\n          name=\"password\"\r\n          value={formik.values.password}\r\n          onChange={formik.handleChange}\r\n          error={formik.errors.password && true}\r\n        />\r\n        <Form.Input\r\n          type=\"password\"\r\n          placeholder=\"Repetir contraseña\"\r\n          name=\"repeatPassword\"\r\n          value={formik.values.repeatPassword}\r\n          onChange={formik.handleChange}\r\n          error={formik.errors.repeatPassword && true}\r\n        />\r\n        <Button type=\"submit\" className=\"btn-submit\">\r\n          Registrarse\r\n        </Button>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction initialValues() {\r\n  return {\r\n    name: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\",\r\n  };\r\n}\r\n","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Auth\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Auth\\LoginForm\\index.js",[],["222","223"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\gql\\user.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Home\\index.js",[],["224","225"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Home\\Home.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\routes\\routes.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\hooks\\useAuth.js",["226"],"import { useContext } from \"react\";\r\nimport AuthContext from \"../context/AuthContext\";\r\n\r\nexport default () => useContext(AuthContext);\r\n","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\User.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Error404\\Error404.js",[],["227","228"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\Header.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\layouts\\LayoutBasic.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\Search\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\RightHeader\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\RightHeader\\RightHeader.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Header\\Search\\Search.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\UserNotFound\\UserNotFound.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Modal\\ModalBasic\\ModalBasic.js",[],["229","230"],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\AvatarForm\\AvatarForm.js",["231"],"import React, { useState, useCallback } from \"react\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { UPDATE_AVATAR, GET_USER, DELETE_AVATAR } from \"../../../gql/user\";\r\nimport \"./AvatarForm.scss\";\r\n\r\nexport default function AvatarForm(props) {\r\n  const { setShowModal, auth } = props;\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [updateAvatar] = useMutation(UPDATE_AVATAR, {\r\n    update(cache, { data: { updateAvatar } }) {\r\n      const { getUser } = cache.readQuery({\r\n        query: GET_USER,\r\n        variables: { username: auth.username },\r\n      });\r\n\r\n      cache.writeQuery({\r\n        query: GET_USER,\r\n        variables: { username: auth.username },\r\n        data: {\r\n          getUser: { ...getUser, avatar: updateAvatar.urlAvatar },\r\n        },\r\n      });\r\n    },\r\n  });\r\n\r\n  const [deleteAvatar] = useMutation(DELETE_AVATAR, {\r\n    update(cache) {\r\n      const { getUser } = cache.readQuery({\r\n        query: GET_USER,\r\n        variables: { username: auth.username },\r\n      });\r\n\r\n      cache.writeQuery({\r\n        query: GET_USER,\r\n        variables: { username: auth.username },\r\n        data: {\r\n          getUser: { ...getUser, avatar: \"\" },\r\n        },\r\n      });\r\n    },\r\n  });\r\n\r\n  const onDrop = useCallback(async (acceptedFile) => {\r\n    const file = acceptedFile[0];\r\n\r\n    try {\r\n      setLoading(true);\r\n      const result = await updateAvatar({ variables: { file } });\r\n\r\n      const { data } = result;\r\n      if (!data.updateAvatar.status) {\r\n        toast.warning(\"Error al actualizar el avatar\");\r\n        setLoading(false);\r\n      } else {\r\n        setLoading(false);\r\n        setShowModal(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: \"image/jpeg, image/png\",\r\n    noKeyboard: true,\r\n    multiple: false,\r\n    onDrop,\r\n  });\r\n\r\n  const onDeleteAvatar = async () => {\r\n    try {\r\n      const result = await deleteAvatar();\r\n      const { data } = result;\r\n\r\n      if (!data.deleteAvatar) {\r\n        toast.warning(\"Error al borrar el avatar\");\r\n      } else {\r\n        setShowModal(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"avatar-form\">\r\n      <Button {...getRootProps()} loading={loading}>\r\n        Cargar una foto\r\n      </Button>\r\n      <Button onClick={onDeleteAvatar}>Eliminar foto actual</Button>\r\n      <Button onClick={() => setShowModal(false)}>Cancelar</Button>\r\n      <input {...getInputProps()} />\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\utils\\token.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\context\\AuthContext.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\routes\\Navigation.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\utils\\constants.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\pages\\Error404\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\UserNotFound\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\AvatarForm\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\Modal\\ModalBasic\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\Profile\\Profile.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\Profile\\HeaderProfile\\HeaderProfile.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\SettignsForm\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\Profile\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\SettignsForm\\SettignsForm.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\PasswordForm\\PasswordForm.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\PasswordForm\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\EmailForm\\EmailForm.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\DescriptionForm\\index.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\DescriptionForm\\DescriptionForm.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\SiteWebForm\\SiteWebForm.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\Profile\\Followers\\Followers.js",[],"C:\\Users\\slema\\source\\repos\\instaclone\\client\\src\\components\\User\\ListUsers\\ListUsers.js",[],{"ruleId":"232","replacedBy":"233"},{"ruleId":"234","replacedBy":"235"},{"ruleId":"232","replacedBy":"236"},{"ruleId":"234","replacedBy":"237"},{"ruleId":"232","replacedBy":"238"},{"ruleId":"234","replacedBy":"239"},{"ruleId":"240","severity":1,"message":"241","line":1,"column":24,"nodeType":"242","messageId":"243","endLine":1,"endColumn":38},{"ruleId":"232","replacedBy":"244"},{"ruleId":"234","replacedBy":"245"},{"ruleId":"232","replacedBy":"246"},{"ruleId":"234","replacedBy":"247"},{"ruleId":"232","replacedBy":"248"},{"ruleId":"234","replacedBy":"249"},{"ruleId":"240","severity":1,"message":"250","line":39,"column":15,"nodeType":"242","messageId":"243","endLine":39,"endColumn":21},{"ruleId":"232","replacedBy":"251"},{"ruleId":"234","replacedBy":"252"},{"ruleId":"232","replacedBy":"253"},{"ruleId":"234","replacedBy":"254"},{"ruleId":"255","severity":1,"message":"256","line":4,"column":1,"nodeType":"257","endLine":4,"endColumn":46},{"ruleId":"232","replacedBy":"258"},{"ruleId":"234","replacedBy":"259"},{"ruleId":"232","replacedBy":"260"},{"ruleId":"234","replacedBy":"261"},{"ruleId":"262","severity":1,"message":"263","line":65,"column":6,"nodeType":"264","endLine":65,"endColumn":8,"suggestions":"265"},"no-native-reassign",["266"],"no-negated-in-lhs",["267"],["266"],["267"],["266"],["267"],"no-unused-vars","'createHttpLink' is defined but never used.","Identifier","unusedVar",["266"],["267"],["266"],["267"],["266"],["267"],"'result' is assigned a value but never used.",["266"],["267"],["266"],["267"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration",["266"],["267"],["266"],["267"],"react-hooks/exhaustive-deps","React Hook useCallback has missing dependencies: 'setShowModal' and 'updateAvatar'. Either include them or remove the dependency array.","ArrayExpression",["268"],"no-global-assign","no-unsafe-negation",{"desc":"269","fix":"270"},"Update the dependencies array to be: [setShowModal, updateAvatar]",{"range":"271","text":"272"},[1859,1861],"[setShowModal, updateAvatar]"]